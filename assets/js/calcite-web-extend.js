/*! ArcGIS API for JavaScript 4.12 | Copyright (c) 2019 Esri. All rights reserved. | http://www.esri.com/legal/privacy | https://developers.arcgis.com/terms/faq */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function expander(){var e=calcite.findElements(".js-expand-toggle"),n=document.querySelectorAll(".js-expand");e.forEach(function(i){calcite.addEvent(i,calcite.click(),function(e){calcite.preventDefault(e);var t=i.getAttribute("data-expand"),a=document.querySelector('.js-expand[data-expand="'+t+'"]'),c=calcite.hasClass(a,"is-active"),s=calcite.hasClass(a,"is-active");calcite.toggleActive(n,a),c&&s?calcite.removeClass(a,"is-active"):calcite.addClass(a,"is-active")})})}function isActiveSection(e){var t=document.location.href;return/guide/i.test(e)?/guide/.test(t):/api[-_]reference/i.test(e)?/api-reference/.test(t):!!/sample[-_]code/i.test(e)&&/sample-code/.test(t)}function closest(e,t){var a=void 0;for(a=t;a;a=a.parentNode){var c;if(c=!!("function"==typeof a.hasAttribute&&a.hasAttribute("class"))&&new RegExp("(\\s|^)"+e+"(\\s|$)").test(a.getAttribute("class")),1===a.nodeType&&c)break}return a}function checkAndExpandEsriReadMore(e){var t=e.replace(/#/g,"");if(""!==t){var a=null,c=calcite.nodeListToArray(document.getElementsByName(t));c&&c[0]&&(a=c[0]);var s=calcite.findElements(t);if(!a&&s&&s[0]&&(a=s[0]),a){var i=closest("accordion-section",a);i&&!calcite.hasClass(i,"is-active")&&(calcite.addClass(i,"is-active"),setTimeout(function(){return a.scrollIntoView()},100))}}}function searchSDK(){var i=calcite.findElements(".js-search-sdk-input");function t(e){calcite.preventDefault(e),/paste/i.test(e.type)&&(e.target.value=e.clipboardData.getData("text"),calcite.bus.emit("search-sdk:keyboard:handleinput",{event:e,target:e.target}))}function a(e){calcite.bus.emit("search-sdk:keyboard:handlekeyup",{event:e,target:e.target})}function c(e){calcite.bus.emit("search-sdk:keyboard:handleinput",{event:e,target:e.target})}calcite.bus.on("search-sdk:url",function(){var t={term:""};if("function"==typeof URLSearchParams){var e=new URLSearchParams(document.location.search);e.has("search")&&(t.term=e.get("search"))}""!==t.term&&(calcite.bus.emit("search-sdk:search-complete",{action:"search-change",term:t.term,keyData:{key:"Enter",code:13}}),i.forEach(function(e){e.value=t.term,e.focus(),e.select()}))}),calcite.bus.on("search-sdk:keyboard:handlepaste",t),calcite.bus.on("search-sdk:keyboard:handlekeyup",function(e){if(/backspace/i.test(e.event.code))setTimeout(function(){calcite.bus.emit("search-sdk:search-delay")},250);else if(/(enter|escape)/i.test(e.event.code)){var t=e.event,a=e.target,c=a.value;/escape/i.test(t.code)&&(a.value="",a.blur()),i.forEach(function(e){e.value=c}),calcite.bus.emit("search-sdk:search-complete",{action:"search-end",term:c,keyData:{key:t.key,code:t.code,keyCode:t.keyCode}})}}),calcite.bus.on("search-sdk:keyboard:handleinput",function(e){var t=e.event,a=e.target,c=a.value,s=/[-.:~+^*\sA-Za-z0-9]+/gi;s.test(a.value)&&(c=a.value.match(s).join("")),i.forEach(function(e){e.value=c}),/[-+:^~]$/.test(c)||calcite.bus.emit("search-sdk:search-complete",{action:"search-change",term:c,keyData:{key:t.key,code:t.code,keyCode:t.keyCode}})}),calcite.bus.on("search-sdk:keyboard:forward-slash",function(){i.forEach(function(e){var t=window.matchMedia("(max-width: 480px)"),a=window.matchMedia("(max-width: 860px)");!t.matches&&!a.matches||calcite.hasClass(e,"js-search-sdk-tablet-hide"),e.focus()})}),calcite.bus.on("search-sdk:bind",function(e){e?(e.value="",calcite.addEvent(e,"input",c),calcite.addEvent(e,"keyup",a),calcite.addEvent(e,"paste",t)):i.forEach(function(e){e.value="",calcite.addEvent(e,"input",c),calcite.addEvent(e,"keyup",a),calcite.addEvent(e,"paste",t)})}),calcite.bus.emit("search-sdk:bind")}function updateBrowserHistory(e){var t=document.location.href,a="",c=/\?.*/;e&&!c.test(t)?a="?search="+e:e&&c.test(t)?a="?search="+e:c.test(t)&&(a=""),history.pushState({href:document.location.href,title:document.title,term:e},document.title,a)}function hideLoader(){var e=document.querySelector(".js-loader");e&&calcite.hasClass(e,"is-active")&&calcite.removeClass(e,"is-active")}function updateVisibility(a){var c=a["has-results"],s=a["is-searching"],e=a.page,t=document.querySelector(".js-container-api-reference"),i=document.querySelector(".js-container-sample-code"),n=null,r=document.querySelector(".js-search-sdk-results"),l=document.querySelector(".js-search-sdk-no-results"),o=document.querySelector(".feedback");"api-reference"===e&&isActiveSection(e)?n=t:"sample-code"===e&&isActiveSection(e)&&(n=i),setTimeout(function(){s||c?c?(calcite.hasClass(n,"hide")||(calcite.addClass(n,"hide"),calcite.addClass(o,"hide")),calcite.hasClass(r,"hide")&&calcite.removeClass(r,"hide"),hideLoader(),calcite.hasClass(l,"hide")||calcite.addClass(l,"hide")):s&&!c&&(hideLoader(),calcite.hasClass(r,"hide")||calcite.addClass(r,"hide"),calcite.hasClass(n,"hide")||(calcite.addClass(n,"hide"),calcite.addClass(o,"hide")),calcite.hasClass(l,"hide")&&calcite.removeClass(l,"hide")):(hideLoader(),calcite.hasClass(r,"hide")||calcite.addClass(r,"hide"),calcite.hasClass(n,"hide")&&(calcite.removeClass(n,"hide"),calcite.removeClass(o,"hide")),calcite.hasClass(l,"hide")||calcite.removeClass(l,"hide"));var e="";if(isActiveSection("api-reference")&&/enter/i.test(a.keyData.key)?e=".js-search-sdk-results table a":isActiveSection("sample-code")&&/enter/i.test(a.keyData.key)&&(e=".js-search-sdk-results .block-group .card .card-content a"),""!==e){var t=calcite.findElements(e);t&&0<t.length&&setTimeout(t[0].focus(),10)}},200)}function apiReferenceIndexPage(){function t(){var e=document.location.hash,t="";if(/#modules(-in)?/im.test(e)?t="all-modules":/#index(-[a-z])?/im.test(e)?t="all-index":/api-reference\/index\.html/.test(document.location.href)&&(t="overview"),""!==t){var a=document.querySelector(".js-tab-"+t);!function(e){var t=e.parent,a=calcite.nodeListToArray(t.querySelectorAll(".js-tab")),c=e.active;c.focus();var s=calcite.nodeListToArray(t.querySelectorAll(".js-tab-section")),i=s[a.indexOf(c)];a.forEach(function(e){e.setAttribute("aria-expanded",!1)}),c.setAttribute("aria-expanded",!0),calcite.toggleActive(a,c),s.forEach(function(e){e.setAttribute("aria-expanded",!1)}),i.setAttribute("aria-expanded",!0),calcite.toggleActive(s,i)}({parent:calcite.closest("js-tab-group",a),active:a})}}calcite.bus.on("urlhash-change",function(e){/api-reference\/index.html/i.test(document.location.href)?t():/api-reference(?=\/[-\w]*\.html)/i.test(document.location.href)&&checkAndExpandEsriReadMore(document.location.hash)}),calcite.bus.on("tabs:active",function(e){/api-reference(?=\/[-\w]*\.html)/i.test(document.location.href)&&(window.location.hash=e.active.hash)}),t()}function apiReferenceSearch(d){var h=document.querySelector(".js-search-sdk-results-header"),u=document.querySelector(".js-search-sdk-no-results"),m=document.querySelector(".js-search-sdk-results tbody.phone-hide"),p=document.querySelector(".js-search-sdk-results tbody.phone-show"),f=d.term?d.term.toLowerCase():"",v=d.term;f&&""!==f?(calcite.lunrWorker.postMessage({messageId:window.calcite.lunrWorkerMessageId++,type:"api-reference-search",value:f}),calcite.lunrWorker.onmessage=function(e){var t=e.data,a=!!t.results&&0<t.results.length;if(a){var c=t.results,s="",i="";c.forEach(function(e){s+="<tr><td>"+e.html+"</td><td>"+e.type+"</td><td>"+e.package+'/<a href="'+e.page_url+'">'+e.class+"</a></td></tr>",i+="<tr><td>",i+="<table class='table'><thead><tr><td>Name, Type, Module</td></tr></thead><tbody>",i+="<tr><td>"+e.html+"</td></tr><tr><td>"+e.type+"</td></tr><tr><td>"+e.package+'/<a href="'+e.page_url+'">'+e.class+"</a></td></tr>",i+="</tbody></table></td></tr>"});var n=1<c.length?" results":" result";h.innerHTML=c.length+n+' for API Reference: <a class="tooltip tooltip-multiline js-search-term-share" aria-label="Click to share search results link" data-search-term="'+f+'">'+v+"</a>",m.innerHTML=s,p.innerHTML=i;var r=document.querySelectorAll(".js-search-sdk-results table a"),l=calcite.nodeListToArray(r);l.forEach(function(e){calcite.addEvent(e,calcite.click(),function(e){var t=calcite.eventTarget(e);if(!!t.getAttribute("data-inherited")){var a=t.getAttribute("data-inherited");calcite.bus.emit("show-hide-inherited-item-change",{data:t,eventType:"search",dataInherited:a,action:"show"})}l.forEach(function(e){calcite.removeEvent(e,calcite.click())})})});var o=document.querySelector(".js-search-term-share");calcite.addEvent(o,calcite.click(),function(e){e.preventDefault(),updateBrowserHistory(o.getAttribute("data-search-term")),document.addEventListener("copy",function(e){(isActiveSection("api-reference")||isActiveSection("sample-code"))&&(e.clipboardData.setData("text/plain",document.location.href),e.preventDefault())}),document.execCommand("copy");var t=document.querySelector(".js-search-term-share.tooltip");t.setAttribute("aria-label","Search results link copied to clipboard"),calcite.addEvent(t,"mouseout",function(e){return e.target.setAttribute("aria-label","Click to share search results link")})}),calcite.bus.emit("search-sdk:update-visibility",Object.assign({"is-searching":!0,"has-results":a},d))}else u.innerHTML="\n        <h1>No results for API Reference: "+v+'</h1>\n        <p>\n        <span class="icon icon-ui-question"></span>\n        There were no matches, however there are some additional options.\n        </p>\n        <p>\n        Use the alphabetical listing or modules by folder when you are more familiar with the API Reference.\n        </p>\n        <ul>\n          <li>\n            <a href="index.html#index">API Reference alphabetical listing</a> \n          </li> \n          <li>\n            <a href="index.html#modules">API Reference modules by folder</a>\n          </li>\n         </ul>\n         <p>        \n         Perform an external search across the entire ArcGIS API for JavaScript or only within the API Reference pages.\n         </p>\n         <ul>\n          <li>\n            <a class="icon icon-ui-link-external" href="https://www.google.com/search?q='+f.replace(/\s/g,"+")+'%20site:https://developers.arcgis.com/javascript/latest">Search ArcGIS API for JavaScript</a>\n          </li>\n          <li>\n            <a class="icon icon-ui-link-external" href="https://www.google.com/search?q='+f.replace(/\s/g,"+")+'%20site:https://developers.arcgis.com/javascript/latest/api-reference">Search API Reference</a>\n          </li>\n         </ul>',calcite.bus.emit("search-sdk:update-visibility",Object.assign({"is-searching":!0,"has-results":a},d))}):calcite.bus.emit("search-sdk:update-visibility",Object.assign({"is-searching":!1,"has-results":!1},d))}function apiReferenceInheritedToggle(){var e=["show","hide"].map(function(t){return["property","method","event"].map(function(e){return".js-"+t+"-inherited-"+e})}).map(function(e){return e.join(", ")}).join(", "),k=".js-inherited-property",C=".js-inherited-method",j=".js-inherited-event",x="inherited-property-hide",A="inherited-method-hide",I="inherited-event-hide",t=calcite.findElements(e),l=calcite.findElements(".js-show-inherited-property, .js-hide-inherited-property"),o=calcite.findElements(".js-show-inherited-method, .js-hide-inherited-method"),d=calcite.findElements(".js-show-inherited-event, .js-hide-inherited-event"),T=calcite.findElements(".js-show-inherited-property")[0],q=calcite.findElements(".js-hide-inherited-property")[0],M=calcite.findElements(".js-show-inherited-method")[0],P=calcite.findElements(".js-hide-inherited-method")[0],L=calcite.findElements(".js-show-inherited-event")[0],R=calcite.findElements(".js-hide-inherited-event")[0],a=calcite.findElements(k),c=calcite.findElements(C),s=calcite.findElements(j),i=!!a&&1<a.length,n=!!c&&1<c.length,r=!!s&&1<s.length,_=calcite.findElements(".table-events thead")[0],D=calcite.findElements("#event-details")[0],H={showInheritedProperty:!0,showInheritedMethod:!0,showInheritedEvent:!0};function h(t,e){var a="properties",c=k.replace(".","");"method"===e?(a="methods",c=C.replace(".","")):"event"===e&&(a="events",c=j.replace(".",""));var s=calcite.findElements(".table-"+a+" tr").filter(function(e){return e.style.cssText="",!!t||(t?void 0:!calcite.hasClass(e,c))});if(null!==s)for(var i=0,n=1;n<s.length;n++){var r=(i+=1)%2==0?"#f8f8f8":"#FFFFFF";s[n].style.cssText="background-color: "+r}}function u(){localStorage&&!localStorage.hasOwnProperty("showInheritedProperty")&&(localStorage.showInheritedProperty=!0),localStorage&&!localStorage.hasOwnProperty("showInheritedMethod")&&(localStorage.showInheritedMethod=!0),localStorage&&!localStorage.hasOwnProperty("showInheritedEvent")&&(localStorage.showInheritedEvent=!0),localStorage&&(H={showInheritedProperty:JSON.parse(localStorage.showInheritedProperty),showInheritedMethod:JSON.parse(localStorage.showInheritedMethod),showInheritedEvent:JSON.parse(localStorage.showInheritedEvent)})}t&&(calcite.bus.on("show-hide-inherited-item-change",function(S){function e(){if(_&&D){var e=calcite.findElements(".table-events tbody .inherited-event-hide").length,t=calcite.findElements("div.inherited-event-hide").length;e===t&&0<e?(calcite.addClass(_,"visually-hidden"),calcite.addClass(D,"visually-hidden")):calcite.hasClass(_,"visually-hidden")&&e===t&&0===e&&(calcite.removeClass(_,"visually-hidden"),calcite.removeClass(D,"visually-hidden"))}}function t(){var e=S.dataInherited;if("property"!==e||H.showInheritedProperty)if("method"!==e||H.showInheritedMethod){if("event"===e&&!H.showInheritedEvent){calcite.removeClass(_,"visually-hidden"),calcite.removeClass(D,"visually-hidden"),calcite.addClass(L,I),calcite.removeClass(R,I);var t=calcite.findElements(j),a=!0,c=!1,s=void 0;try{for(var i,n=t[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var r=i.value;calcite.removeClass(r,I)}}catch(e){c=!0,s=e}finally{try{!a&&n.return&&n.return()}finally{if(c)throw s}}}}else{calcite.addClass(M,A),calcite.removeClass(P,A);var l=calcite.findElements(C),o=!0,d=!1,h=void 0;try{for(var u,m=l[Symbol.iterator]();!(o=(u=m.next()).done);o=!0){var p=u.value;calcite.removeClass(p,A)}}catch(e){d=!0,h=e}finally{try{!o&&m.return&&m.return()}finally{if(d)throw h}}}else{calcite.removeClass(q,x),calcite.addClass(T,x);var f=calcite.findElements(k),v=!0,g=!1,b=void 0;try{for(var y,w=f[Symbol.iterator]();!(v=(y=w.next()).done);v=!0){var E=y.value;calcite.removeClass(E,x)}}catch(e){g=!0,b=e}finally{try{!v&&w.return&&w.return()}finally{if(g)throw b}}}}"click"===S.eventType?(i&&"property"===S.dataInherited&&a&&(a.forEach(function(e){calcite.hasClass(e,x)?calcite.removeClass(e,x):(calcite.addClass(e,x),e.style.cssText="")}),h(H.showInheritedProperty,"property")),n&&"method"===S.dataInherited&&c&&(c.forEach(function(e){calcite.hasClass(e,A)?calcite.removeClass(e,A):(calcite.addClass(e,A),e.style.cssText="")}),h(H.showInheritedMethod,"method")),r&&"event"===S.dataInherited&&s&&(s.forEach(function(e){calcite.hasClass(e,I)?calcite.removeClass(e,I):(calcite.addClass(e,I),e.style.cssText="")}),e(),h(H.showInheritedEvent,"event"))):"hash"===S.eventType?t():"search"===S.eventType?t():"initialize"===S.eventType&&(i&&a&&(H.showInheritedProperty?(a.forEach(function(e){calcite.hasClass(e,x)&&calcite.removeClass(e,x)}),calcite.addClass(T,x),calcite.removeClass(q,x)):(a.forEach(function(e){calcite.hasClass(e,x)||calcite.addClass(e,x)}),calcite.removeClass(T,x),calcite.addClass(q,x)),h(H.showInheritedProperty,"property")),n&&c&&(H.showInheritedMethod?(c.forEach(function(e){calcite.hasClass(e,A)&&calcite.removeClass(e,A)}),calcite.addClass(M,A),calcite.removeClass(P,A)):(c.forEach(function(e){calcite.hasClass(e,A)||calcite.addClass(e,A)}),calcite.removeClass(M,A),calcite.addClass(P,A)),h(H.showInheritedMethod,"method")),r&&s&&(H.showInheritedEvent?(s.forEach(function(e){calcite.hasClass(e,I)&&calcite.removeClass(e,I)}),calcite.addClass(L,I),calcite.removeClass(R,I)):(s.forEach(function(e){calcite.hasClass(e,I)||calcite.addClass(e,I)}),calcite.removeClass(L,I),calcite.addClass(R,I)),e(),h(H.showInheritedEvent,"event")))}),u(),t.forEach(function(e){calcite.addEvent(e,"click",function(e){var t=calcite.eventTarget(e),a=t.getAttribute("data-action")?t.getAttribute("data-action").split(":"):["show",""],c=a[0],s=a[1],i="show"===c,n="inherited-"+s+"-hide";"property"===s?(localStorage.showInheritedProperty=i,l.forEach(function(e){calcite.toggleClass(e,n)})):"method"===s?(localStorage.showInheritedMethod=i,o.forEach(function(e){calcite.toggleClass(e,n)})):"event"===s&&(localStorage.showInheritedEvent=i,d.forEach(function(e){calcite.toggleClass(e,n)})),u();var r={data:t,eventType:"click",dataInherited:s,action:c};calcite.bus.emit("show-hide-inherited-item-change",r)})})),calcite.bus.emit("show-hide-inherited-item-change",{eventType:"initialize",dataInherited:"",action:"show"})}function apiReferenceInheritedToggleCheck(){var e=document.location.hash,t=!/#(constructors|properties|methods|events|typedefinitions)-summary/.test(e);if(e&&t){var a=/\.?inherited-(property|method|event)-hide/im,c=/(property|method|event)/im,s=e.replace("#",".").replace("event:",""),i=calcite.findElements(s);if(Array.isArray(i)&&0<i.length){var n=!0,r=!1,l=void 0;try{for(var o,d=i[Symbol.iterator]();!(n=(o=d.next()).done);n=!0){var h=o.value;if(a.test(h.className)){var u=h.className.match(c)[0];calcite.bus.emit("show-hide-inherited-item-change",{eventType:"hash",dataInherited:u,action:"show"})}}}catch(e){r=!0,l=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw l}}}}}function downloadSampleCode(e){var a=e.currentTarget.getAttribute("data-save-file"),c=e.currentTarget.getAttribute("data-save-file-name"),s=new XMLHttpRequest;s.open("GET",a,!0),s.onreadystatechange=function(e){if(s.readyState===XMLHttpRequest.DONE&&200===s.status)try{if(!!new Blob&&""!==s.responseText){var t=new Blob([s.responseText],{type:'text/plain;charset="'+document.characterSet+'"'});saveAs(t,c+".html")}}catch(e){console.log("Download is not supported for %s",navigator.userAgent)}else 404===s.status&&console.log("Unable to download: %s",a)},s.onerror=function(e){console.log("An error occurred while downloading: %s",a)},s.send()}function sampleCodeOverviewDescription(){if(document.querySelector(".js-feedback")){var e=document.querySelector(".js-feedback"),t=e.href.replace("%7BREPLACE_TITLE%7D",encodeURIComponent(document.title)).replace("%7BREPLACE_URL%7D",encodeURIComponent(document.location.href));e.href=t.replace("%7BREPLACE_UA%7D",encodeURIComponent(navigator.userAgent))}if(document.querySelector(".js-container-sample-code-3d")){var a=document.querySelector(".js-container-sample-code-warning");/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent)&&calcite.toggleClass(a,"hide")}document.querySelector(".js-btn-save-file")&&calcite.findElements(".js-btn-save-file").forEach(function(e){calcite.addEvent(e,"click",downloadSampleCode)})}window.onpopstate=function(e){if(null===e.state)if(/#/g.test(document.location.href)){if(/api-reference\/[-:\w]+\.html(?=#[-\w]+)/.test(document.location.href)){var t=document.querySelector(".js-search-sdk-results"),a=document.querySelector(".js-container-api-reference"),c=calcite.hasClass(t,"hide");t&&!c&&(calcite.removeClass(a,"hide"),calcite.addClass(t,"hide"));var s=document.location.hash.replace(/#/g,""),i=document.getElementById(s)||document.querySelector("a[name="+s+"]");i&&setTimeout(function(){return i.scrollIntoView(!0)},1)}}else document.location.reload(!0);else""!==document.location.search&&calcite.bus.emit("search-sdk:url")};var jsShareType="codepen",jsShareUrl="https://codepen.io/pen/define/",codePenData={title:"My first sample",editors:"100",html:"",layout:"left"};function jsShareEventHandler(a){var h=/[-\w]*(?=\/live\/index\.html)/im;var c,s,e,t,i,n,r,l=a.target.getAttribute("data-jsshare-url")||"";l&&""!==l?(s=function(e,t){var a=["html"],c=e.document.createElement("form"),s=void 0;"jsbin"===jsShareType?jsShareUrl="https://jsbin.com?html,output":"codepen"===jsShareType&&(jsShareUrl="https://codepen.io/pen/define/"),c.setAttribute("target","_self"),c.setAttribute("method","post"),c.setAttribute("action",jsShareUrl),c.style.display="none";for(var i=0;i<a.length;i++)s=e.document.createElement("input"),c.appendChild(s),s.type="hidden","jsbin"===jsShareType?(s.name=a[i],s.value=encodeURIComponent(t)):"codepen"===jsShareType?(codePenData.html=t.replace(/<!DOCTYPE html>\n?/i,""),s.name="data",s.value=JSON.stringify(codePenData)):s.value="";e.document.body.appendChild(c),c.submit()},e=(c=l).match(h),t=(65536*(1+Math.random())|0).toString(16).substring(1),i=e?e[0]:t,n=window.open("about:blank",i),(r=new XMLHttpRequest).open("GET",c,!0),r.onreadystatechange=function(e){if(r.readyState===XMLHttpRequest.DONE&&200===r.status){var t=function(e,t){var a=e,c=/<title>[^<]*<\/title>/im,s=e.match(c),i=s?s[0]:"",n=i.replace(/<\/?title>/gim,"");if(codePenData.title=n,i&&""!==i){var r=t.match(h),l=r?r[0]:"sample",o="https://developers.arcgis.com/javascript/latest/sample-code/"+l+"/index.html",d="";"jsbin"===jsShareType&&(d+='<meta name="description" content="['+n+']">\n'),d+="\x3c!--\n  ArcGIS API for JavaScript, https://js.arcgis.com\n  For more information about the {{ sample_name }} sample, read the original sample description at developers.arcgis.com.\n  {{ sample_url }}\n  --\x3e\n".replace(/{{\ssample_name\s}}/,l).replace(/{{\ssample_url\s}}/,o)+i,a=e.replace(c,d)}return a}(r.responseText,c);localStorage&&localStorage.jsShareType&&(jsShareType=localStorage.jsShareType),s(n,t)}else 404===r.status&&console.log("Unable to locate url %s",a.currentTarget.responseURL)},r.onerror=function(e){console.log("An error occurred while fetching url %s",a.currentTarget.responseURL)},r.send()):console.log("Unable to retrieve sample code source for %s",l)}function enableJSShareEventHandler(){var e=calcite.nodeListToArray(document.querySelectorAll(".js-btn-jsshare"));e&&e.length&&e.forEach(function(e){calcite.addEvent(e,calcite.click(),jsShareEventHandler)})}function sampleCodeSearch(p){var f=document.querySelector(".js-search-sdk-results-header"),v=document.querySelector(".js-search-sdk-results-table tbody"),g=document.querySelector(".js-search-sdk-results-cards"),b=document.querySelector(".js-search-sdk-no-results"),y=document.querySelector(".js-search-sdk-results-tags"),e=document.location.href,t=/https?:\/\/([-\da-zA-Z.]+\.([.a-z]){2,6}|localhost|\d*\.\d*\.\d*\.\d*):?[-./\w]*(?=sample-code)/gm,w=/https?/,E=e.match(t)?e.match(t)[0]:"",S=E+"sample-code/sandbox/index.html?sample=",k=p.term.toLowerCase(),C=p.term;k&&""!==k?(calcite.lunrWorker.postMessage({messageId:window.calcite.lunrWorkerMessageId++,type:"sample-code-search",value:k}),calcite.lunrWorker.onmessage=function(e){var t=e.data;if(!!t.results&&0<t.results.length){var a=t.results,c=t.matchTags,h="",s="",u="";a.forEach(function(e){var t=e.result,a=e.sandboxEnabled,c=e.jsShareEnabled,s=e.pageMeta,i=e.isExternalSample,n=w.test(t.live_link)?t.live_link:E+t.live_link,r="btn-disabled ",l="btn-disabled ",o="btn-hidden ",d="&share=false";a&&(r=""),c&&(d=l=""),/symbol playground/im.test(s.title)||c||a||i||(r="btn-hidden ",o=""),h+='<tr>\n              <td><a href="'+E+t.page_url+'">'+t.title+'</a></td>\n              <td>\n                <button class="btn '+o+'btn-small btn-sample-code icon-ui-download js-btn-save-file" data-save-file="'+n+'" data-save-file-name="'+t.sample_name+'">Download</button>\n                <a class="btn '+r+'btn-small btn-sandbox btn-sample-code js-btn-sandbox" href="'+S+t.sample_name+d+'">\n                  <span class="btn-sandbox-label-full">Explore in the sandbox</span><span class="btn-sandbox-label-short">Sandbox</span>\n                </a>\n                <a class="btn btn-clear '+l+'btn-small icon-ui-link-external btn-sample-code js-btn-jsshare" data-jsshare-url="'+n+'">CodePen</a>\n                <a class="btn btn-clear btn-small btn-sample-code" href="'+n+'">View live</a>\n              </td>\n            </tr>',u+='\n          <div class="card block trailer-1">\n            <figure class="card-image-wrap">\n              <a href="'+E+"sample-code/"+t.sample_name+'/index.html">\n                <img class="card-image" src="'+E+"../assets/img/sample-code/thumbnails/"+t.sample_name+'.png" alt="'+t.sample_name+'">\n              </a>\n            </figure>\n            <div class="card-content">\n              <p class="font-size--1 card-last trailer-1"><a href="'+E+"sample-code/"+t.sample_name+'/index.html" tabindex="1">'+t.title+'</a></p>\n              <div class="open-out-container">\n                <a class="open-out-icon '+o+'icon-ui-download js-btn-save-file" title="Download" data-save-file-name="'+t.sample_name+'" data-save-file="'+n+'"></a>\n                <a class="open-out-icon '+r+'icon-ui-experimental" title="Explore in the sandbox" href="'+S+t.sample_name+d+'"></a>\n                <a class="open-out-icon '+l+'icon-ui-link-external js-btn-jsshare" title="Open in CodePen" data-jsshare-url="'+n+'"></a>\n                <a class="open-out-icon icon-ui-browser" title="View live" href="'+n+'"></a>\n              </div>\n            </div>\n          </div>\n          '});var i=function(e,t){return e.indexOf(t)<0&&e.push(t),e},n=c.title,r=c.tags;c.tags=r.reduce(i,[]),c.title=n.reduce(i,[]),!/\*/.test(k)&&/(2d|3d)/gi.test(k)&&(/3d/gi.test(k)?c.tags=c.tags.filter(function(e){return!/2d/gi.test(e)}):/2d/gi.test(k)&&(c.tags=c.tags.filter(function(e){return!/3d/gi.test(e)})));var l=c.tags.map(function(e){var t=" btn-search-sdk-results-tag";return new RegExp(e,"i").test(k)&&(t=""),'<a class="js-search-sdk-results-tag btn'+t+'" data-search-term="'+e+'">'+e+"</a>"});s+=0<c.tags.length?'<span class="search-sdk-results-tags-header">Tags</span><div class="search-sdk-results-container-tags">'+l.join("")+"</div>":"";var o=1<a.length?" results":" result",d='<a class="tooltip tooltip-multiline js-search-term-share" aria-label="Click to share search results link" data-search-term="'+k+'">'+C+"</a>";f.innerHTML=a.length+o+" for Sample Code: "+d,v.innerHTML=h,y.innerHTML=s,g.innerHTML=u;var m=document.querySelector(".js-search-term-share");calcite.addEvent(m,calcite.click(),function(e){e.preventDefault(),updateBrowserHistory(m.getAttribute("data-search-term")),document.addEventListener("copy",function(e){(isActiveSection("api-reference")||isActiveSection("sample-code"))&&(e.clipboardData.setData("text/plain",document.location.href),e.preventDefault())}),document.execCommand("copy");var t=document.querySelector(".js-search-term-share.tooltip");t.setAttribute("aria-label","Search results link copied to clipboard"),calcite.addEvent(t,"mouseout",function(e){return e.target.setAttribute("aria-label","Click to share search results link")})}),calcite.findElements(".js-btn-save-file").forEach(function(e){calcite.addEvent(e,"click",downloadSampleCode)}),calcite.findElements(".js-search-sdk-results-tag").forEach(function(e){calcite.addEvent(e,calcite.click(),function(e){updateBrowserHistory(e.target.getAttribute("data-search-term")),calcite.bus.emit("search-sdk:url")})}),enableJSShareEventHandler(),calcite.bus.emit("search-sdk:update-visibility",Object.assign({"is-searching":!0,"has-results":!0},p))}else b.innerHTML="\n          <h1>No results for Sample Code: "+C+'</h1>\n          <p>\n          <span class="icon icon-ui-question"></span>\n          There were no matches, however there are some additional options.\n          </p>\n          <p>Return to the featured samples overview page.</p>\n          <ul><li><a href="index.html">Featured samples</a></li></ul>\n          <p>\n          Perform an external search across the entire ArcGIS API for JavaScript or only within the Sample Code pages.\n          </p>\n          <ul>\n            <li>\n              <a class="icon icon-ui-link-external" href="https://www.google.com/search?q='+k.replace(/\s/g,"+")+'%20site:https://developers.arcgis.com/javascript/latest">Search ArcGIS API for JavaScript</a>\n            </li>\n            <li>\n              <a class="icon icon-ui-link-external" href="https://www.google.com/search?q='+k.replace(/\s/g,"+")+'%20site:https://developers.arcgis.com/javascript/latest/sample-code">Search Sample Code</a>\n            </li>\n          </ul>',calcite.bus.emit("search-sdk:update-visibility",Object.assign({"is-searching":!0,"has-results":!1},p))}):calcite.bus.emit("search-sdk:update-visibility",Object.assign({"is-searching":!1,"has-results":!1},p))}function urlHashWatcher(){if("onhashchange"in window)window.onhashchange=function(e){calcite.bus.emit("urlhash-change",e)};else{var a=window.location,c=a.href,s=a.hash;setInterval(function(){var e=a.href,t=a.hash;t!==s&&"function"==typeof window.onhashchange&&(window.onhashchange({type:"hashchange",oldURL:c,newURL:e}),c=e,s=t,calcite.bus.emit("urlhash-change",{type:"hashchange",oldURL:c,newURL:e}))},100)}}function searchEventHandler(e){isActiveSection("api-reference")?apiReferenceSearch(Object.assign({page:"api-reference"},e)):isActiveSection("sample-code")&&sampleCodeSearch(Object.assign({page:"sample-code"},e))}function initializeEventHandlers(){if(calcite.bus.on("search-sdk:search-complete",searchEventHandler),calcite.bus.on("search-sdk:update-visibility",updateVisibility),calcite.bus.on("search-sdk:api-reference-lunr-index-loaded",function(){calcite.bus.emit("search-sdk:url")}),calcite.bus.on("search-sdk:sample-code-lunr-index-loaded",function(){calcite.bus.emit("search-sdk:url")}),calcite.bus.on("keyboard:mousetrap",function(e){var t=e.event.key,a=e.combination,c=e.navigation[t];function s(e){var t=document.getElementById({c:"constructors-summary",p:"properties-summary",m:"methods-summary",t:"typedefinitions-summary",e:"events-summary"}[e]);t&&t.scrollIntoView()}if("?"===t)calcite.bus.emit("modal:open",{id:"modal-keyboard-shortcuts"});else if("t"===t&&"g t"===a)window.scrollTo(0,0);else if("b"===t&&"g b"===a)calcite.findElements(".footer")[0].scrollIntoView();else if("h"===t&&"g h"===a)document.location=c;else if("g"===t&&"g g"===a)document.location=c;else if("a"===t&&"g a"===a)document.location=c;else if("s"===t&&"g s"===a)document.location=c;else if("/"===t)e.event.preventDefault(),calcite.bus.emit("search-sdk:keyboard:forward-slash");else if("c"===t)s(t);else if("p"===t)s(t);else if("m"===t)s(t);else if("t"===t)s(t);else if("e"===t)s(t);else if("s"===t&&"e s"===a)document.location=calcite.findElements(".js-btn-sample-code-sandbox")[0].href;else if("s"===t){if("function"==typeof MouseEvent){var i=new MouseEvent("click",{bubbles:!0,cancelable:!1,view:window}),n=calcite.findElements(".js-btn-jsshare")[0];i&&n.dispatchEvent(i)}}else if("l"===t&&"v l"===a){var r=calcite.findElements(".js-btn-sample-code-view-live")[0].href;window.open(r)}}),isActiveSection("sample-code")){var a=calcite.findElements(".js-toggle-view-btn",document.querySelector(".js-toggle-view")),c=document.querySelector(".js-search-sdk-results-table"),s=document.querySelector(".js-search-sdk-results-cards");a.forEach(function(e){calcite.addEvent(e,"click",function(e){a.forEach(function(e){calcite.hasClass(e,"is-active")&&calcite.removeClass(e,"is-active")}),calcite.addClass(e.currentTarget,"is-active");var t=e.target.getAttribute("data-toggle-view-target");/cards/i.test(t)?(calcite.hasClass(s,"hide")&&calcite.removeClass(s,"hide"),calcite.hasClass(c,"hide")||calcite.addClass(c,"hide")):/table/i.test(t)&&(calcite.hasClass(c,"hide")&&calcite.removeClass(c,"hide"),calcite.hasClass(s,"hide")||calcite.addClass(s,"hide"))})}),enableJSShareEventHandler()}}window.jsshare=function(e){"jsbin"===e?jsShareType="jsbin":"codepen"===e&&(jsShareType="codepen"),localStorage.jsShareType=jsShareType},"object"===("undefined"==typeof calcite?"undefined":_typeof(calcite))?(calcite.bus.on("calcite-extend",function(){var c,a=0;function e(e,t){t=t||{bubbles:!1,cancelable:!1};var a=document.createEvent("MouseEvent");return a.initMouseEvent(e,t.bubbles,t.cancelable,c,0,0,0,0,0,!1,!1,!1,!1,0,null),a}if(isActiveSection("sample-code")&&calcite.bus.on("iframe:sample-code:load-handler",function(){var e=calcite.findElements(".js-container-iframe-sample-code");if(e){var t=e[0].getAttribute("data-sample-code-type");a=/3d/i.test(t)?3500:2e3,setTimeout(function(){var e=calcite.findElements(".js-iframe-sample-code-loader")[0];e&&calcite.hasClass(e,"is-active")&&calcite.removeClass(e,"is-active")},a)}}),calcite.addEvent(window,"load",function(){"function"==typeof URLSearchParams&&(new URLSearchParams(document.location.search).has("search")||(calcite.findElements([".js-container-main",".js-container-guide",".js-container-api-reference",".js-container-sample-code",".js-feedback"].join(",")).forEach(function(e){calcite.hasClass(e,"hide")&&calcite.removeClass(e,"hide")}),setTimeout(function(){return hideLoader()},a)));checkAndExpandEsriReadMore(document.location.hash)}),"function"!=typeof MouseEvent&&(c=window,e.prototype=Event.prototype,c.MouseEvent=e),"function"==typeof window.Worker){var t=document.location.href.replace(/\?[-_\w\d]+=[-%_(.|\n)\w\d]+/im,"").replace(/(guide|sample-code|api-reference)[-/.\w]*/i,"../assets/js/lunr-worker.js");(isActiveSection("api-reference")||isActiveSection("sample_code"))&&(window.calcite.lunrWorker=new Worker(t),window.calcite.lunrWorkerMessageId=0,window.calcite.lunrWorker.onmessage=function(e){var t=e.data;if("ready"===t.type)if(isActiveSection("api-reference")&&t.api_reference_lunr_index_loaded){var a=document.createEvent("HTMLEvents");a.initEvent("load",!1,!0),calcite.bus.emit("search-sdk:api-reference-lunr-index-loaded",a)}else if(isActiveSection("sample_code")&&t.sample_code_lunr_index_loaded){var c=document.createEvent("HTMLEvents");c.initEvent("load",!1,!0),calcite.bus.emit("search-sdk:sample-code-lunr-index-loaded",c)}})}else console.log(navigator.appVersion," does not support workers");"function"!=typeof calcite.expander&&calcite.extend(expander()),calcite.extend(searchSDK()),calcite.extend(initializeEventHandlers()),calcite.extend(urlHashWatcher()),calcite.extend(apiReferenceIndexPage()),calcite.extend(apiReferenceInheritedToggle()),calcite.extend(apiReferenceInheritedToggleCheck()),calcite.extend(sampleCodeOverviewDescription()),document.documentElement.setAttribute("data-browser",navigator.userAgent)}),"undefined"==typeof dojo&&(calcite.init(),calcite.bus.emit("calcite-extend"))):console.warn("calcite-web not available!");