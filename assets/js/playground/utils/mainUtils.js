/*! ArcGIS API for JavaScript 4.12 | Copyright (c) 2019 Esri. All rights reserved. | http://www.esri.com/legal/privacy | https://developers.arcgis.com/terms/faq */
define(["esri-playground-js/utils/CurrentState","esri-playground-js/utils/DataProvider"],function(CurrentState,DataProvider){var mainUtils={};var parseConfig=function(urlOrObj,includeLocation){var currentState=CurrentState.getInstance(),isUrl=typeof urlOrObj==="string",json=isUrl?DataProvider.getJsonData(urlOrObj):urlOrObj;if(json["type"]==="Class"&&includeLocation&&currentState.required.reqModules.indexOf('\t"'+json["path"]+'"')<0){var required={paths:currentState.required.paths,reqModules:currentState.required.reqModules,commentReqModules:currentState.required.commentReqModules,reqVariables:currentState.required.reqVariables};required.paths.push(json["path"]);required.reqModules.push('\t"'+json["path"]+'"');required.commentReqModules.push("// "+json["path"]);required.reqVariables.push(json["className"]);currentState.set("required",required)}if(!isUrl){if(json.config){parseConfig(json.config)}json["properties"].forEach(function(property){if(property["location"]){parseConfig(property.config,!property["exclude"])}})}else{if(json["baseClass"]){var baseJsonUrl=require.toUrl("esri-playground-data")+"/"+json["baseLocation"];var baseJson=parseConfig(baseJsonUrl);baseJson["properties"].forEach(function(property){if(property["default"]==null&&property["defaults"]){property["defaults"].forEach(function(defaultVal){if(defaultVal["name"]===json["className"]){property["default"]=defaultVal["value"]}})}var removeProps=json["removeProperties"];if(removeProps){if(removeProps.indexOf(property["name"])===-1){json["properties"].push(property)}}else{json["properties"].push(property)}});baseJson["methods"].forEach(function(method){var removeMethods=json["removeMethods"];if(removeMethods){if(removeMethods.indexOf(method["name"])===-1){json["methods"].push(method)}}else{if(!json["methods"]){json["methods"]=[]}json["methods"].push(method)}})}json["properties"].forEach(function(property){if(property["type"]==="Class"||property["type"]==="Object"){if(property["location"]){var inner_url=require.toUrl("esri-playground-data")+"/"+property["location"];var nestedData=parseConfig(inner_url,!property["exclude"]);property["config"]=nestedData}}})}return json};mainUtils.parseConfig=parseConfig;return mainUtils});